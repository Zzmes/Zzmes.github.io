<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Ubuntu Server 配置 Clash</title>
    <link href="/2025/09/10/ubuntu-clash-md/"/>
    <url>/2025/09/10/ubuntu-clash-md/</url>
    
    <content type="html"><![CDATA[<h2 id="安装-clash">安装 clash</h2><p><a href="https://github.com/doreamon-design/clash">下载链接</a></p><ul><li><p>启动 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /clash<br>wget -O config.yaml https://your subscribe url<br>./clash -d ./<br></code></pre></td></tr></table></figure></p></li><li><p>设置系统代理 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> vim ~/.zshrc<br>// 加入并保存<br><span class="hljs-built_in">export</span> https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 no_proxy=<span class="hljs-string">&quot;localhost,127.0.0.1&quot;</span><br>//更新<br><span class="hljs-built_in">source</span> ～/.zshrc<br></code></pre></td></tr></table></figure></p></li><li><p>启用和禁用命令 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#禁用全局代理</span><br><span class="hljs-built_in">unset</span> http_proxy<br><span class="hljs-built_in">unset</span> https_proxy<br><span class="hljs-comment">#启用全局代理</span><br><span class="hljs-built_in">set</span> http_proxy<br><span class="hljs-built_in">set</span> https_proxy<br></code></pre></td></tr></table></figure> ## 设置clash开机启动</p></li><li><p>创建服务文件： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> vim /etc/systemd/system/clash.service<br></code></pre></td></tr></table></figure></p></li><li><p>填入以下内容（修改路径为你的 Clash 可执行文件和配置文件路径）：<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs text">[Unit]<br>Description=Clash Service<br>After=network.target<br><br>[Service]<br>Type=simple<br>ExecStart=/home/zzmes/workspace/tools/clash/clash -d /home/zzmes/workspace/tools/clash<br>Restart=on-failure<br>User=zzmes<br>WorkingDirectory=/home/zzmes/workspace/tools/clash<br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure></p></li><li><p>保存后执行： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl daemon-reload<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> clash      <span class="hljs-comment"># 开机启动</span><br><span class="hljs-built_in">sudo</span> systemctl start clash       <span class="hljs-comment"># 立即启动</span><br><span class="hljs-built_in">sudo</span> systemctl status clash      <span class="hljs-comment"># 查看状态</span><br></code></pre></td></tr></table></figure> ## Clash相关的管理命令<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#启动Clash</span><br><span class="hljs-built_in">sudo</span> systemctl start clash.service<br><span class="hljs-comment">#重启Clash</span><br><span class="hljs-built_in">sudo</span> systemctl restart clash.service<br><span class="hljs-comment">#查看Clash运行状态</span><br><span class="hljs-built_in">sudo</span> systemctl status clash.service<br><span class="hljs-comment">#禁用全局代理</span><br><span class="hljs-built_in">unset</span> http_proxy<br><span class="hljs-built_in">unset</span> https_proxy<br><span class="hljs-comment">#启用全局代理</span><br><span class="hljs-built_in">set</span> http_proxy<br><span class="hljs-built_in">set</span> https_proxy<br></code></pre></td></tr></table></figure></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>代理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>clash</tag>
      
      <tag>ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>个人博客说明</title>
    <link href="/2025/09/10/announcement/"/>
    <url>/2025/09/10/announcement/</url>
    
    <content type="html"><![CDATA[<p>欢迎来到我的个人小站！我会在这里分享日常生活、技术心得以及个人兴趣。</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
